/*! shifty - v0.12.1 - 2013-11-03 - http://jeremyckahn.github.io/shifty */
(function(t){var n=function(){"use strict";function n(){}function e(t,n){var e;for(e in t)Object.hasOwnProperty.call(t,e)&&n(e)}function r(t,n){return e(n,function(e){t[e]=n[e]}),t}function i(t,n){return e(n,function(e){t[e]===void 0&&(t[e]=n[e])}),t}function u(t,n,e,r,i,u,a){var s,c=(t-u)/i;for(s in n)n.hasOwnProperty(s)&&(n[s]=o(e[s],r[s],y[a[s]],c));return n}function o(t,n,e,r){return t+(n-t)*e(r)}function a(t,n,r){var i=f.prototype.filter;e(i,function(e){i[e][n]&&i[e][n].apply(t,r)})}function s(t,n,e,r,i,o,s,c){h=n+e,p=Math.min(d(),h),l=p>=h,t.isPlaying()&&!l?(v(t._timeoutHandler,_),M.length=0,M.push(r),M.push(i),M.push(o),M.push(s),a(t,"beforeTween",M),u(p,r,i,o,e,n,s),a(t,"afterTween",M),c(r)):l&&(c(o),t.stop(!0))}function c(t,n){var r={};return"string"==typeof n?e(t,function(t){r[t]=n}):e(t,function(t){r[t]||(r[t]=n[t]||w)}),r}function f(t){var n=t||{};return this.data={},this._currentState=n.initialState||{},this._timeoutHandler=null,this}var h,p,l,w="linear",m=500,_=1e3/60,g=Date.now?Date.now:function(){return+new Date},d=g,v=function(){var t;return t="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout}(),M=[];f.prototype.tween=function(t){if(!this._isTweening){this._pausedAtTime=null,this._step=t.step||n,this._callback=t.callback||n,this._targetState=t.to||{},this._duration=t.duration||m,this._currentState=t.from||this.get(),this._timestamp=d();var e=this._currentState,u=this._targetState;i(e,u),i(u,e),this._easing=c(e,t.easing||w);var o=this._originalState=r({},e);return a(this,"tweenCreated",[e,o,u,this._easing]),this.resume()}},f.prototype.get=function(){return r({},this._currentState)},f.prototype.set=function(t){this._currentState=t},f.prototype.stop=function(t){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=null,t&&(r(this._currentState,this._targetState),a(this,"afterTweenEnd",[this._currentState,this._originalState,this._targetState,this._easing]),this._callback.call(this._currentState,this._currentState)),this},f.prototype.pause=function(){return this._pausedAtTime=d(),this._isPaused=!0,this},f.prototype.resume=function(){this._isPaused&&(this._timestamp+=d()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0;var t=this;return this._timeoutHandler=function(){s(t,t._timestamp,t._duration,t._currentState,t._originalState,t._targetState,t._easing,t._step)},this._timeoutHandler(),this},f.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},f.prototype.filter={},r(f,{now:d,each:e,tweenProps:u,tweenProp:o,applyFilter:a,shallowCopy:r,defaults:i,composeEasingObject:c}),f.prototype.formula={linear:function(t){return t}};var y=f.prototype.formula;return"object"==typeof exports?module.exports=f:"function"==typeof define&&define.amd?define(function(){return f}):t.Tweenable===void 0&&(t.Tweenable=f),f}();(function(){n.shallowCopy(n.prototype.formula,{easeInQuad:function(t){return Math.pow(t,2)},easeOutQuad:function(t){return-(Math.pow(t-1,2)-1)},easeInOutQuad:function(t){return 1>(t/=.5)?.5*Math.pow(t,2):-.5*((t-=2)*t-2)},easeInCubic:function(t){return Math.pow(t,3)},easeOutCubic:function(t){return Math.pow(t-1,3)+1},easeInOutCubic:function(t){return 1>(t/=.5)?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},easeInQuart:function(t){return Math.pow(t,4)},easeOutQuart:function(t){return-(Math.pow(t-1,4)-1)},easeInOutQuart:function(t){return 1>(t/=.5)?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeInQuint:function(t){return Math.pow(t,5)},easeOutQuint:function(t){return Math.pow(t-1,5)+1},easeInOutQuint:function(t){return 1>(t/=.5)?.5*Math.pow(t,5):.5*(Math.pow(t-2,5)+2)},easeInSine:function(t){return-Math.cos(t*(Math.PI/2))+1},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:-Math.pow(2,-10*t)+1},easeInOutExpo:function(t){return 0===t?0:1===t?1:1>(t/=.5)?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-Math.pow(t-1,2))},easeInOutCirc:function(t){return 1>(t/=.5)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeOutBounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInBack:function(t){var n=1.70158;return t*t*((n+1)*t-n)},easeOutBack:function(t){var n=1.70158;return(t-=1)*t*((n+1)*t+n)+1},easeInOutBack:function(t){var n=1.70158;return 1>(t/=.5)?.5*t*t*(((n*=1.525)+1)*t-n):.5*((t-=2)*t*(((n*=1.525)+1)*t+n)+2)},elastic:function(t){return-1*Math.pow(4,-8*t)*Math.sin((6*t-1)*2*Math.PI/2)+1},swingFromTo:function(t){var n=1.70158;return 1>(t/=.5)?.5*t*t*(((n*=1.525)+1)*t-n):.5*((t-=2)*t*(((n*=1.525)+1)*t+n)+2)},swingFrom:function(t){var n=1.70158;return t*t*((n+1)*t-n)},swingTo:function(t){var n=1.70158;return(t-=1)*t*((n+1)*t+n)+1},bounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bouncePast:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?2-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?2-(7.5625*(t-=2.25/2.75)*t+.9375):2-(7.5625*(t-=2.625/2.75)*t+.984375)},easeFromTo:function(t){return 1>(t/=.5)?.5*Math.pow(t,4):-.5*((t-=2)*Math.pow(t,3)-2)},easeFrom:function(t){return Math.pow(t,4)},easeTo:function(t){return Math.pow(t,.25)}})})(),function(){function t(t,n,e,r,i,u){function o(t){return((l*t+w)*t+m)*t}function a(t){return((_*t+g)*t+d)*t}function s(t){return(3*l*t+2*w)*t+m}function c(t){return 1/(200*t)}function f(t,n){return a(p(t,n))}function h(t){return t>=0?t:0-t}function p(t,n){var e,r,i,u,a,c;for(i=t,c=0;8>c;c++){if(u=o(i)-t,n>h(u))return i;if(a=s(i),1e-6>h(a))break;i-=u/a}if(e=0,r=1,i=t,e>i)return e;if(i>r)return r;for(;r>e;){if(u=o(i),n>h(u-t))return i;t>u?e=i:r=i,i=.5*(r-e)+e}return i}var l=0,w=0,m=0,_=0,g=0,d=0;return m=3*n,w=3*(r-n)-m,l=1-m-w,d=3*e,g=3*(i-e)-d,_=1-d-g,f(t,c(u))}function e(n,e,r,i){return function(u){return t(u,n,e,r,i,1)}}n.setBezierFunction=function(t,r,i,u,o){var a=e(r,i,u,o);return a.x1=r,a.y1=i,a.x2=u,a.y2=o,n.prototype.formula[t]=a},n.unsetBezierFunction=function(t){delete n.prototype.formula[t]}}(),function(){function t(t,e,r,i,u){return n.tweenProps(i,e,t,r,1,0,u)}var e=[];n.interpolate=function(r,i,u,o){var a=new n,s=n.shallowCopy({},r),c=n.composeEasingObject(r,o||"linear");return e[0]=s,e[1]=r,e[2]=i,e[3]=c,n.applyFilter(a,"tweenCreated",e),n.applyFilter(a,"beforeTween",e),e[0]=t(r,s,i,u,c),n.applyFilter(a,"afterTween",e),e[0]}}(),function(t){function n(t,n){O.length=0;var e,r=t.length;for(e=0;r>e;e++)O.push("_"+n+"_"+e);return O}function e(t){var n=t.match(M);return 1===n.length&&n.unshift(""),n.join(I)}function r(n){t.each(n,function(t){var e=n[t];"string"==typeof e&&e.match(S)&&(n[t]=i(e))})}function i(t){return s(S,t,u)}function u(t){var n=o(t);return"rgb("+n[0]+","+n[1]+","+n[2]+")"}function o(t){return t=t.replace(/#/,""),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),T[0]=a(t.substr(0,2)),T[1]=a(t.substr(2,2)),T[2]=a(t.substr(4,2)),T}function a(t){return parseInt(t,16)}function s(t,n,e){var r=n.match(t),i=n.replace(t,I);if(r)for(var u,o=r.length,a=0;o>a;a++)u=r.shift(),i=i.replace(I,e(u));return i}function c(t){return s(b,t,f)}function f(t){for(var n=t.match(y),e=n.length,r=t.match(k)[0],i=0;e>i;i++)r+=parseInt(n[i],10)+",";return r=r.slice(0,-1)+")"}function h(r){var i={};return t.each(r,function(t){var u=r[t];if("string"==typeof u){var o=g(u);i[t]={formatString:e(u),chunkNames:n(o,t)}}}),i}function p(n,e){t.each(e,function(t){for(var r=n[t],i=g(r),u=i.length,o=0;u>o;o++)n[e[t].chunkNames[o]]=+i[o];delete n[t]})}function l(n,e){t.each(e,function(t){var r=n[t],i=w(n,e[t].chunkNames),u=m(i,e[t].chunkNames);r=_(e[t].formatString,u),n[t]=c(r)})}function w(t,n){for(var e,r={},i=n.length,u=0;i>u;u++)e=n[u],r[e]=t[e],delete t[e];return r}function m(t,n){F.length=0;for(var e=n.length,r=0;e>r;r++)F.push(t[n[r]]);return F}function _(t,n){for(var e=t,r=n.length,i=0;r>i;i++)e=e.replace(I,+n[i].toFixed(4));return e}function g(t){return t.match(y)}function d(n,e){t.each(e,function(t){for(var r=e[t],i=r.chunkNames,u=i.length,o=n[t].split(" "),a=o[o.length-1],s=0;u>s;s++)n[i[s]]=o[s]||a;delete n[t]})}function v(n,e){t.each(e,function(t){for(var r=e[t],i=r.chunkNames,u=i.length,o="",a=0;u>a;a++)o+=" "+n[i[a]],delete n[i[a]];n[t]=o.substr(1)})}var M=/([^\-0-9\.]+)/g,y=/[0-9.\-]+/g,b=RegExp("rgb\\("+y.source+/,\s*/.source+y.source+/,\s*/.source+y.source+"\\)","g"),k=/^.*\(/,S=/#([0-9]|[a-f]){3,6}/g,I="VAL",O=[],T=[],F=[];t.prototype.filter.token={tweenCreated:function(t,n,e){r(t),r(n),r(e),this._tokenData=h(t)},beforeTween:function(t,n,e,r){d(r,this._tokenData),p(t,this._tokenData),p(n,this._tokenData),p(e,this._tokenData)},afterTween:function(t,n,e,r){l(t,this._tokenData),l(n,this._tokenData),l(e,this._tokenData),v(r,this._tokenData)}}}(n)})(this);